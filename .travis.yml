sudo: required
language: python
services:
- docker
install:
- pip install awscli --upgrade
script:
- bash bin/build

before_deploy:
  - git config --local user.name "travis"
  - git config --local user.email "travis"
  - git tag -a "$(cat ./version)" -m "version $(cat ./version)"
deploy:
  - provider: script
    script: bash bin/deploy
    on:
      branch: master
  - provider: releases
    api_key:
      secure: H3iE/Keenqc1LzncwkEyIhjigO33KYyGbKGcnKe+ePqE+5vT/plpEkSODEwe6Fv6nueEdUJUNFauNEhFDIp2QLP7aQexEEPY4MfkGGF9xVvaJxfqYeTIQeDlcGG72CPeJHKYWz+GQXoDLrPFmE1LUAveh80E5ns8YPqV0wIEEwG8tL3aRGh1Juxf/yvRBQRjRwcL3qUavBmU82YxAbu1Sp/0ERpYl/QDdYONzc3Iy4hGPYi3FsVkrKynquDlZ0jfGwRYulA4wFLaPUQaGVydL/sBOHecfVXX47hVIUxvTfpSZeEH1a2Mq2rjWtK9S/P7U/9zF8yqSXyxz39SHzaUcupnu8nZVaZ1gPM20Y15b2zzLxNmC8rmb/q/Awv7nxqPL/+wlqOKgROYuRrW0/TE+aCHnto7qf+GdI5lU6NRtZMcT5YfS9pFYqQZWZ59O1FE64mFr3tBanZWZKx/Sd6WVFymvIlmAyOCTpdv/wOXHBF/bB83tGLxLpD2zSlOMQOXVG35ubt6yk3hCpJbE1MwePhqQAZ5BC8KN50X2bPsZ49fP8dP+Jr9RBRB0WOgyGwoJ2w+hx9x8QnDAh2z/CE/pPKcLasag0ybcX9uDJ+ADI8qxPQiHlecLd3Xt4bCNt542hH/Hs1qU5B3Kmh5P3jfUe6KaeqdczRvY0OFsj0Rq64=
    file: ''
    on:
      branch: master
env:
  global:
  - secure: yVMcJosnoXSC+h8BakF1bsepI9Jk1y2aG7XBZ3IS22oFZPwTVWL5xuQk2Sql0cMqJGy+/VuGAWjZDID1GhDm+qGDh4I5xbbqwbLImov687VFaABMj2qAk9+DidbE7E4UTFiG5G/i4Q9VJNO9dtaEL7JFpVwcw5/K+ZwqDVlgKEATy2vmtY30KaSQAGE4VpDjKHGz469f61LC6sX2ghJoFlHZViefRy+aqDGls3BiykqcUeZT2/OFr5jN8lf5FT4obWXovxTi6/ROnlrtEmZM3BYCXk3fKXX9MJQ9d4lOFtXmtnlZdPiXCiPghlR1C4TJMndfaO+LrQh/HqFXXui0+uf9RvZIGnsF7fYsHNXTKQv7ErgAZL1qaAcMRMmwcGOeDX6e8kipx0eTALmF2+hDstzLBPcCvBW012pYdU9IX3I9r5Ba2X8bU7ZbEBBaRQEQiJM9yd0R1bNkSV9UbRF/qfVNNk4atqL37YBvcsm9sh6RJLXZ+rsuAaPOcsC3ZGZ7cFKlTdQ5Glt84DcR6Bany1zzxO241UbyO1jBF7XSIF5CUZZxwInrur1Og0xlQuGUucviX0iGTA2eyZF8DduNLL/8PhHXBqJ3qJdzoqqY1i8VGFKAFULmwUcZqezb2PcVqke/SW6BvFEm+JqwqnvB+C8iv9UNKZ3NtSp13iw9yeI=
  - secure: HLyMq5KsPP73TN/Q9fDAfPgwJoq8n/9SBASY9aLGNP7xalwc9PIzlLo6aqtIY03aAcCkjOyP4+4sb2X4GJlmBfFOqLKoUIu//aT6mEGJ2YLGdPSSzpdUnGlC9QUh1C7NIwmpkAGOuAUMj7/wwMNiLmABS8PlZPeSxQivpjjASOvzFFqwITilCwTT1Sfd50J0pjmwUgebzO/pVQsIeGHgFRzlGt2PGHbsBzbPaBqtKqtIpLU6HVWTorD12sapT/dbUF3Y/GD1YOaiQUdrl2wn2Aqx74Pmv5x6D5CwgVa5STkOAY2TlIr4eMrk2grJbQkzvuoTH6U8x79BRsbMIdasA6CMFfSxkqMEuXisMCvN97BuB6h6L1VjTeSDHaRL4wu6FaAeRsEMOmEswfTZSXOxK5DKzfNjo19wEMuNzPJnE+uCcV3j95tk7Ig6AdH7CilfYBDVLpdTq6S7WTS2b9NxYRZDaZAj2HI5FMd9SV7oMi5Z/o3xWl8jgnWDOiXHQa1MowcLDSPA2kgf1EaLHfXZKRgUhhMYa2l6ZW+S2e33+Jwvh+dKzl9g3iQ/OwGNf5niK6tnY2nCXhNAGqWHRpJZlq6aoj11Dj7cb5eqngU4gwg6MQ94GbEj7xWO3VySO2SjPvHTwj0JjCX4y/Qj2VfWas0jbVydBwcN/yv3EHsCk4s=
  - secure: I9jqPj+k1GdzSVEO7+uFpw6nXm7dwKFLIrX/Xhor8dYNHfXmR2Fi4ozjNbXWZ7eYq3Y0Ik7XulIQbMNM2RRz3rssLgebUoWWyHHH3s/r2iVyGz16TAWgh4AYfy59z+XlbDwdWrcDgjGXzpApmyS7KVS++nHSP+JRabLET63zdjw8/OJrVhwIxH7XcTM+jxl3asMJIMIvzE6PSJiBIw3BV3FSnF7aDm/DpxYTMc5bKIk0Dq9tZDeeWQTBN4Oanhbprx9s6Ho2YyM7xhHJ7NWI+SOXI1o8p24vylV0v4xQiafSyUki2kJ8kTvY5630xEL8v/QTM9rlHO9+UdAgj2oJUJ0WoNo3DOnwHgPWCLw4eWvfgER+3Cl+MKv8mrJyFK+n/Si9xvfepIWOwKCiE7SNyKO95NksKDcrrZx45D7VyDOC61hBBD96hqQ0ZzYpggQSsC4vWQ6eDwhZlgj/ntDyw+7W9ecD5MESWVtwjXIKjHPJlnsF2pGOiGMSezl2Ntbym2glcmg9GTFoYGw3D7MmnbazPANIIeDVERDju26olxC9FvGAo/rigsNBakx1yhP4eOCTTZGy6S7My5rEtXpuClBiUyP6mqLuJAcjDuQJvThNrgpmvFUi3qW+31SzoG3HX2zuvdWSI6SN9HyiG8fVqj0CigZc0A2a+Glab26Tl58=
  - secure: t4bXVSOPnGO+w/OVySjbOrBL3EYBcrq+gLAqu0wrQf/j3gEF3SwgJ/lO4UsvrAeTos8bowo9nDQHuRngUq8iQSf8WixqEiohWKy6PMXFsWk+xAuNdNtIOwJdrpuZdmLKbHmvXFRgOzG6jkH3CXeI+FpnmrC1iqm0vZI9Yib5pEycI+mdKixQ5KStNbVwtp0BozfIXR6Wp/pK6nNUJ5SADwngX1N7uE4asWfUjVsF1cgkifYaIUVHIC5naCXWXTVYwNUGsKONr2Dxs/Oha1sfBd95RS50MLaSDk+Aa8RIsg7Pd4bL2lMwk8yT9x5kr48q/3NUOh5hHZiadCl+TPMaTw6L3bpj08Cv9WxrkoDWmRFoMjXUWhVJpaEnvdDigS2wKkKpMjvEmbrHBlWh3tS9bYOBDvlSz5wUliq/mXUgsLwXqHEhp/ihs/qXkOS0Z80sOD1ZWctxO02V5hUUZYzR9hGS+s0PLJ2goNm+LXMhQ0mkVFjcjIN0xCv7bRS1b4PEtn4ASFPLKg9JHYtTuMjStkLh2wOXf98XiSI9cUIIcOpKf8ueGcnbJt+uyf2ayTDI+M/57jtoPkoK9qPGgcz2pVWSqoV2dOl2KaD5fLikPL0KWEkV61I8PzI1nh2bcMnrH6zVttXM2Si/ctQtgauo2SvYS/XqIWzrkZFGgUNr17I=
  - secure: ShnhtIZbsXyiTt0FeGmayGG8LSaeVWZqQpnYTZqVL7rIul4amJQMyaGIdzYvKBRzjbulgsxroVqgJocBAIpGYuezIwRfNTeYTs5JnovCKs6iDt47k5INIi4VjwuLU4VLFBL2VcFc/WK2hTmZHTlRjCS5Vn0pWrac94vh6gNmUXfTYCt/Ezkfj+NDD8WysY/YKnus6Ax+dP92YSoghCWsuYLFHyakBtIiuRSkD1hL21IQIeLe2m0Tt6v0OWolF2rT+z/E9HF0b42tConOET2ImXM67PJwVN4b06FtkImLNaOznCQfLIy8QUy+xDdctCnkVxCx1B82XmHqvkJ4VqdwCSrRmVe8Pjk+tpnjf88GvtwsJ8Q79PWyJoszngz8TexU3dREg4tWNaAh4cSVV9vgF4fgUEI0ejAca0/kBvMHS4Qi7is2aGwnrHaWwERi51o7Fap/A9oesx8gQPUZ+pGconVI1k96HTTDA31KlgVi6ln5QhNI46Mhck+rBmTf7LpTh5cfsz5Lyzv9SvvymE+qBbOtGUR8ilxPEdEo2kPTjRd63Sk09Mm/2zo3pgQqpgOMRKlDMkYUenfdHD+0nFXYAD+G8d3PGBGCPk24dzWmYVsKzvM1UZM7OSIxzBCP+jZLDQ/kDoDUOXD1WggXL4C0DU5yxuty5Bd0gFJMKIgvB/4=
  - secure: wxy/ndFp7gN0a6Qo10biMdObknbj7YcLk3MARMcT/HpKazlVEaaXn+VBVmiFMip0xA2toDRv+ctb/fGvUS9rhdSzZP5tZTy14Z+v7MZss+7EdLC0JvHWUz+sOAWIRsSGcolKr/HeilHjC/Mdjl9GsQfGRf3uTGLcSCknZFrZT2KCQA+GyOaJzpMe9KlbIZPCHWyKqb3GFxJLuyAvWX5GbMLm9RT6+lVj29WQnSYNgtYAw6dmt4g8Qg2aKEvDHFMg12tulVGDYguLbNblVz0wY8sCGX+dzkxiKYDRyroRB6xw2Sl14gD0e16+/+xLnWhEc/ZwFizua1DH0rRoDaALdH5B9KfJC7WwfK57bbE5HmPwVhXCgOiiJkOAZxKRgzxZSBXBOLlRs3f13s9G2S+r8h1qKYV67xpllZDsSkaA1PZeQmDkqkWow7Ksm3Ij7tYQySMP+olw8vHhJLvlwisjcLI0NuIB9Vh4QnuAexgkmgEGBWqkJVmiVApPGBrzym2GTC2OHlvr6vH91mXxceggTjPW+awMbG8JBGQuFxg/6/cN/GS2jAgN/byQxVrDw/KMf1Dm5Q0nzGnEswhLkwHu7pyzj70JtLPrq0edAe2u5942DG9OlMXzRtPD/i2DcfzT/50yghqRoYfy1MxRCyVnnyeRgolbuAQI9Mrbo+DnVxg=
